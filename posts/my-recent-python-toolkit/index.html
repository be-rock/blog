<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>My Recent Python Toolkit | Brock B's Blog</title><meta name=keywords content="python"><meta name=description content="Introduction
The Python development ecosystem has changed pretty dramatically over the recent years.
This post provides a practical introduction to the toolkit that I&rsquo;ve been using, explaining why I chose each tool and how they work together.
The Toolkit

Command Runner - make
Configuration - pydantic
Containerization - podman
Continuous Integration - GitHub Actions
IDE - cursor
Linting & Formatting - ruff
Load Testing - locust
Logging - logging
Pre-commit - prek
Python project and environment management - uv
Scheduling - cron
Testing - pytest
Type Checking - ty

Command Runner - make
While not initially designed for this purpose, make works very well as a command runner. A Makefile can be created in your project root to represent common ways for your project to be used. It is also self-documenting and a helpful way for newcomers to get started with your project."><meta name=author content><link rel=canonical href=https://be-rock.github.io/blog/posts/my-recent-python-toolkit/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.2211ca3164be7830024f6aad2b3a2e520843a64f8f048445c3401c1249aa051d.css integrity="sha256-IhHKMWS+eDACT2qtKzouUghDpk+PBIRFw0AcEkmqBR0=" rel="preload stylesheet" as=style><link rel=icon href=https://be-rock.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://be-rock.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://be-rock.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://be-rock.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://be-rock.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://be-rock.github.io/blog/posts/my-recent-python-toolkit/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://be-rock.github.io/blog/posts/my-recent-python-toolkit/"><meta property="og:site_name" content="Brock B's Blog"><meta property="og:title" content="My Recent Python Toolkit"><meta property="og:description" content="Introduction The Python development ecosystem has changed pretty dramatically over the recent years.
This post provides a practical introduction to the toolkit that I’ve been using, explaining why I chose each tool and how they work together.
The Toolkit Command Runner - make Configuration - pydantic Containerization - podman Continuous Integration - GitHub Actions IDE - cursor Linting & Formatting - ruff Load Testing - locust Logging - logging Pre-commit - prek Python project and environment management - uv Scheduling - cron Testing - pytest Type Checking - ty Command Runner - make While not initially designed for this purpose, make works very well as a command runner. A Makefile can be created in your project root to represent common ways for your project to be used. It is also self-documenting and a helpful way for newcomers to get started with your project."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-29T21:00:24-05:00"><meta property="article:modified_time" content="2025-09-29T21:00:24-05:00"><meta property="article:tag" content="Python"><meta name=twitter:card content="summary"><meta name=twitter:title content="My Recent Python Toolkit"><meta name=twitter:description content="Introduction
The Python development ecosystem has changed pretty dramatically over the recent years.
This post provides a practical introduction to the toolkit that I&rsquo;ve been using, explaining why I chose each tool and how they work together.
The Toolkit

Command Runner - make
Configuration - pydantic
Containerization - podman
Continuous Integration - GitHub Actions
IDE - cursor
Linting & Formatting - ruff
Load Testing - locust
Logging - logging
Pre-commit - prek
Python project and environment management - uv
Scheduling - cron
Testing - pytest
Type Checking - ty

Command Runner - make
While not initially designed for this purpose, make works very well as a command runner. A Makefile can be created in your project root to represent common ways for your project to be used. It is also self-documenting and a helpful way for newcomers to get started with your project."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://be-rock.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"My Recent Python Toolkit","item":"https://be-rock.github.io/blog/posts/my-recent-python-toolkit/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"My Recent Python Toolkit","name":"My Recent Python Toolkit","description":"Introduction The Python development ecosystem has changed pretty dramatically over the recent years.\nThis post provides a practical introduction to the toolkit that I\u0026rsquo;ve been using, explaining why I chose each tool and how they work together.\nThe Toolkit Command Runner - make Configuration - pydantic Containerization - podman Continuous Integration - GitHub Actions IDE - cursor Linting \u0026amp; Formatting - ruff Load Testing - locust Logging - logging Pre-commit - prek Python project and environment management - uv Scheduling - cron Testing - pytest Type Checking - ty Command Runner - make While not initially designed for this purpose, make works very well as a command runner. A Makefile can be created in your project root to represent common ways for your project to be used. It is also self-documenting and a helpful way for newcomers to get started with your project.\n","keywords":["python"],"articleBody":"Introduction The Python development ecosystem has changed pretty dramatically over the recent years.\nThis post provides a practical introduction to the toolkit that I’ve been using, explaining why I chose each tool and how they work together.\nThe Toolkit Command Runner - make Configuration - pydantic Containerization - podman Continuous Integration - GitHub Actions IDE - cursor Linting \u0026 Formatting - ruff Load Testing - locust Logging - logging Pre-commit - prek Python project and environment management - uv Scheduling - cron Testing - pytest Type Checking - ty Command Runner - make While not initially designed for this purpose, make works very well as a command runner. A Makefile can be created in your project root to represent common ways for your project to be used. It is also self-documenting and a helpful way for newcomers to get started with your project.\nThere are numerous tools that can serve the purpose of make and function as a command runner, such as just and task libraries but, although it may have a slightly more archaic syntax, I feel that make wins here because of its availability. It’s present on virtually all systems and LLMs have made it easy to get up and running if you need assistance with the syntax.\nHere’s a list of common make targets that I use on my Python projects:\n.PHONY: help setup format lint test run build-image clean help: ## Show this help message @echo \"Available commands:\" @grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | sort | awk 'BEGIN {FS = \":.*?## \"}; {printf \"\\033[36m%-20s\\033[0m %s\\n\", $$1, $$2}' setup: ## Bootstrap the project and install dependencies uv init --no-readme uv add --dev pytest ruff ty uv sync format: ## Format code with ruff uvx ruff format src/ tests/ lint: ## Lint code with ruff uvx ruff check src/ tests/ test: ## Run tests with pytest uvx pytest tests/ -v run: ## Run the application uv run python -m src.main build-image: ## Build container image with podman podman build -t my-python-app . clean: ## Clean up generated files find . -type f -name \"*.pyc\" -delete find . -type d -name \"__pycache__\" -delete rm -rf .pytest_cache/ Common targets I use:\nmake help - Show available commands (self-documenting!) make setup - Bootstrap the project and install dependencies make format - Format code with ruff make test - Run tests make build-image - Build the container image Configuration - pydantic pydantic provides type validation and settings management. I use it for configurations to ensure type safety / validation.\nfrom pydantic_settings import BaseSettings, SettingsConfigDict class Settings(BaseSettings): database_url: str = \"app.db\" api_host: str = \"0.0.0.0\" api_port: int = 8000 api_debug: bool = False model_config = SettingsConfigDict( env_file=\".env\", env_file_encoding=\"utf-8\", case_sensitive=False ) # Usage settings = Settings() print(f\"API will run on {settings.api_host}:{settings.api_port}\") The pydantic settings documentation has excellent examples for more complex configurations.\nContainerization - podman I use podman for containerization since there are no licensing restrictions to be concerned about, unlike docker. For Mac development, the apple/container project might be worth considering.\nContinuous Integration - GitHub Actions GitHub Actions integrates well into a GitHub repo and starters are widely available for Python projects. Unless your company has an alternate CI solution, GitHub Actions should be the starting-point.\nIt can also be run locally use the awesome OSS https://github.com/nektos/act project.\nIDE (Cursor or VS Code) Cursor is a great IDE because of its familiar VS Code-like interface and AI integration. Its website puts it this way:\nBuilt to make you extraordinarily productive, Cursor is the best way to code with AI.\ncursor.com Linting \u0026 Formatting - ruff ruff is a super fast Python linter and formatter that can used in place of other tools like black for formatting and isort for import sorting\nExample usage:\n# Format code uvx ruff format src/ # Lint code uvx ruff check src/ # Fix auto-fixable issues uvx ruff check --fix src/ Logging - logging Although libraries like loguru are easier to use, have more bells-and-whistles, I feel that the standard library logging library has always been ‘good enough’ for what I need.\nIn this case, we will create a custom Python logger in json format for easier downstream parsing, if required.\nimport datetime import logging import json from typing import Any class JsonFormatter(logging.Formatter): def format(self, record) -\u003e str: log_record: dict[str, Any] = { \"time\": datetime.datetime.now(datetime.timezone.utc).isoformat(timespec='milliseconds'), \"level\": record.levelname, \"msg\": record.getMessage(), \"logger\": record.name, } return json.dumps(log_record) def get_logger( logger_name: str = __name__, logger_level: int = logging.INFO, logging_formatter: JsonFormatter = JsonFormatter, ) -\u003e logging.Logger: logger = logging.getLogger(logger_name) logger.setLevel(logger_level) handler = logging.StreamHandler() handler.setFormatter(logging_formatter()) logger.addHandler(handler) return logger logger = get_logger() logger.info(\"This is an info message\") {\"time\": \"2025-10-01T04:30:41.691+00:00\", \"level\": \"INFO\", \"msg\": \"This is an info message\", \"logger\": \"__main__\"} Load Testing - locust locustio/locust is an excellent project for load testing with a built-in web UI. It shines when load testing APIs - the primary place I’ve used it, but it can be easily extensible to non-API use cases.\nPre-commit - prek The pre-commit Python library has long been king in this area for, as the name suggests, ensuring certain conditions are met prior to a git commit succeeding. The prek project promises to be:\n🚀 A single binary with no dependencies, does not require Python or any other runtime. ⚡ About 10x faster than pre-commit and uses only half the disk space. 🔄 Fully compatible with the original pre-commit configurations and hooks.\nAs the name suggests, it is a git hook that is triggered prior to commits. It can be used to ensure that JSON, YAML files are formatted properly, check to ensure files end with a newline, check for merge conflicts, and more.\nHere’s a sample .pre-commit-config.yaml:\nrepos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: v4.4.0 hooks: - id: trailing-whitespace - id: end-of-file-fixer - id: check-yaml - id: check-added-large-files - id: check-merge-conflict - repo: https://github.com/astral-sh/ruff-pre-commit rev: v0.1.6 hooks: - id: ruff args: [--fix, --exit-non-zero-on-fix] - id: ruff-format Install and setup:\n# Install prek curl -L https://github.com/j178/prek/releases/latest/download/prek_linux_amd64.tar.gz | tar -xz sudo mv prek /usr/local/bin/ # Install the hooks defined in the .pre-commit-config.yaml prek install Python project and environment management - `uv``` uv makes managing dependencies easier and has other project-bootstrapping capabilities. Written in Rust, it’s project dependency resolution, as an alternative to pip install. is significantly faster.\nHere’s some common (AI-generated) examples:\n# Initialize a new project uv init my-project cd my-project # Add dependencies uv add fastapi uvicorn uv add --dev pytest ruff # Create and activate virtual environment uv venv source .venv/bin/activate # On Unix/macOS # Install dependencies uv sync # Run commands in the virtual environment uv run python main.py uv run pytest uv run ruff check . # Run tools without installing globally uvx ruff format . uvx ty check src/ Scheduling - cron cron is the ultimate ‘keep it simple’ scheduler and is widely available. When something more sophisticated is needed, Airflow may be the way to go, especially for data-centric jobs. But if ‘keep it simple’ is good enough, here’s a crontab template file that I referenced for years.\n# .---------------- minute (0 - 59) # | .------------- hour (0 - 23) # | | .---------- day of month (1 - 31) # | | | .------- month (1 - 12) OR jan,feb,mar,apr ... # | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat # | | | | | # * * * * * command to be executed # * * * * * command --arg1 --arg2 file1 file2 2\u003e\u00261 Testing - pytest pytest shouldn’t need much of an introduction but in my opinion it is both easier to read and more customizable than the built-in testing library.\nHere’s a simple (AI-Generated) example:\n# tests/test_user.py import pytest from src.models import User class TestUser: def test_user_creation(self): user = User(name=\"John Doe\", email=\"john@example.com\") assert user.name == \"John Doe\" assert user.email == \"john@example.com\" def test_user_email_validation(self): with pytest.raises(ValueError): User(name=\"John Doe\", email=\"invalid-email\") @pytest.fixture def sample_user(self): return User(name=\"Jane Doe\", email=\"jane@example.com\") def test_user_with_fixture(self, sample_user): assert sample_user.name == \"Jane Doe\" Type Checking - ty ty is a newer project that promises to be faster than alternatives such as mypy and can be run easily when paired with uv.\nBasic usage:\nuvx ty check src/ Takeaways While I’m not an expert in these tools, I have used most extensively, with the exception of new entries such as ty and the supposed backwards-compatible version of pre-commit, prek\n","wordCount":"1384","inLanguage":"en","datePublished":"2025-09-29T21:00:24-05:00","dateModified":"2025-09-29T21:00:24-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://be-rock.github.io/blog/posts/my-recent-python-toolkit/"},"publisher":{"@type":"Organization","name":"Brock B's Blog","logo":{"@type":"ImageObject","url":"https://be-rock.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://be-rock.github.io/blog/ accesskey=h title="Brock B's Blog (Alt + H)">Brock B's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://be-rock.github.io/blog/ title=Home><span>Home</span></a></li><li><a href=https://be-rock.github.io/blog/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://be-rock.github.io/blog/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://be-rock.github.io/blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">My Recent Python Toolkit</h1><div class=post-meta><span title='2025-09-29 21:00:24 -0500 -0500'>September 29, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1384 words</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#the-toolkit aria-label="The Toolkit">The Toolkit</a><ul><li><a href=#command-runner---make aria-label="Command Runner - make">Command Runner - make</a></li><li><a href=#configuration---pydantic aria-label="Configuration - pydantic">Configuration - pydantic</a></li><li><a href=#containerization---podman aria-label="Containerization - podman">Containerization - podman</a></li><li><a href=#continuous-integration---github-actions aria-label="Continuous Integration - GitHub Actions">Continuous Integration - GitHub Actions</a></li><li><a href=#ide-cursor-or-vs-code aria-label="IDE (Cursor or VS Code)">IDE (Cursor or VS Code)</a></li><li><a href=#linting--formatting---ruff aria-label="Linting & Formatting - ruff">Linting & Formatting - ruff</a></li><li><a href=#logging---logging aria-label="Logging - logging">Logging - logging</a></li><li><a href=#load-testing---locust aria-label="Load Testing - locust">Load Testing - locust</a></li><li><a href=#pre-commit---prek aria-label="Pre-commit - prek">Pre-commit - prek</a></li><li><a href=#python-project-and-environment-management---uv aria-label="Python project and environment management - `uv```">Python project and environment management - `uv```</a></li><li><a href=#scheduling---cron aria-label="Scheduling - cron">Scheduling - cron</a></li><li><a href=#testing---pytest aria-label="Testing - pytest">Testing - pytest</a></li><li><a href=#type-checking---ty aria-label="Type Checking - ty">Type Checking - ty</a></li></ul></li><li><a href=#takeaways aria-label=Takeaways>Takeaways</a></li></ul></div></details></div><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>The Python development ecosystem has changed pretty dramatically over the recent years.</p><p>This post provides a practical introduction to the toolkit that I&rsquo;ve been using, explaining why I chose each tool and how they work together.</p><h2 id=the-toolkit>The Toolkit<a hidden class=anchor aria-hidden=true href=#the-toolkit>#</a></h2><ul><li><a href=#command-runner---make>Command Runner</a> - <code>make</code></li><li><a href=#configuration---pydantic>Configuration</a> - <code>pydantic</code></li><li><a href=#containerization---podman>Containerization</a> - <code>podman</code></li><li><a href=#continuous-integration---github-actions>Continuous Integration</a> - GitHub Actions</li><li><a href=#ide-cursor-or-vs-code>IDE</a> - <code>cursor</code></li><li><a href=#linting--formatting---ruff>Linting & Formatting</a> - <code>ruff</code></li><li><a href=#load-testing---locust>Load Testing</a> - <code>locust</code></li><li><a href=#logging---logging>Logging</a> - <code>logging</code></li><li><a href=#pre-commit---prek>Pre-commit</a> - <code>prek</code></li><li><a href=#python-project-and-environment-management---uv>Python project and environment management</a> - <code>uv</code></li><li><a href=#scheduling---cron>Scheduling</a> - <code>cron</code></li><li><a href=#testing---pytest>Testing</a> - <code>pytest</code></li><li><a href=#type-checking---ty>Type Checking</a> - <code>ty</code></li></ul><h3 id=command-runner---make>Command Runner - <code>make</code><a hidden class=anchor aria-hidden=true href=#command-runner---make>#</a></h3><p>While not initially designed for this purpose, <code>make</code> works very well as a command runner. A <code>Makefile</code> can be created in your project root to represent common ways for your project to be used. It is also self-documenting and a helpful way for newcomers to get started with your project.</p><p>There are numerous tools that can serve the purpose of <code>make</code> and function as a command runner, such as <code>just</code> and <code>task</code> libraries but, although it may have a slightly more archaic syntax, I feel that <code>make</code> wins here because of its availability. It&rsquo;s present on virtually all systems and LLMs have made it easy to get up and running if you need assistance with the syntax.</p><p>Here&rsquo;s a list of common <code>make</code> targets that I use on my Python projects:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-makefile data-lang=makefile><span style=display:flex><span><span style=color:#a6e22e>.PHONY</span><span style=color:#f92672>:</span> help setup format lint test run build-image clean
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>help</span><span style=color:#f92672>:</span> <span style=color:#75715e>## Show this help message
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	@echo <span style=color:#e6db74>&#34;Available commands:&#34;</span>
</span></span><span style=display:flex><span>	@grep -E <span style=color:#e6db74>&#39;^[a-zA-Z_-]+:.*?## .*$$&#39;</span> <span style=color:#66d9ef>$(</span>MAKEFILE_LIST<span style=color:#66d9ef>)</span> | sort | awk <span style=color:#e6db74>&#39;BEGIN {FS = &#34;:.*?## &#34;}; {printf &#34;\033[36m%-20s\033[0m %s\n&#34;, $$1, $$2}&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>setup</span><span style=color:#f92672>:</span> <span style=color:#75715e>## Bootstrap the project and install dependencies
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	uv init --no-readme
</span></span><span style=display:flex><span>	uv add --dev pytest ruff ty
</span></span><span style=display:flex><span>	uv sync
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>format</span><span style=color:#f92672>:</span> <span style=color:#75715e>## Format code with ruff
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	uvx ruff format src/ tests/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>lint</span><span style=color:#f92672>:</span> <span style=color:#75715e>## Lint code with ruff
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	uvx ruff check src/ tests/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>test</span><span style=color:#f92672>:</span> <span style=color:#75715e>## Run tests with pytest
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	uvx pytest tests/ -v
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>run</span><span style=color:#f92672>:</span> <span style=color:#75715e>## Run the application
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	uv run python -m src.main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>build-image</span><span style=color:#f92672>:</span> <span style=color:#75715e>## Build container image with podman
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	podman build -t my-python-app .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>clean</span><span style=color:#f92672>:</span> <span style=color:#75715e>## Clean up generated files
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	find . -type f -name <span style=color:#e6db74>&#34;*.pyc&#34;</span> -delete
</span></span><span style=display:flex><span>	find . -type d -name <span style=color:#e6db74>&#34;__pycache__&#34;</span> -delete
</span></span><span style=display:flex><span>	rm -rf .pytest_cache/
</span></span></code></pre></div><p>Common targets I use:</p><ul><li><code>make help</code> - Show available commands (self-documenting!)</li><li><code>make setup</code> - Bootstrap the project and install dependencies</li><li><code>make format</code> - Format code with ruff</li><li><code>make test</code> - Run tests</li><li><code>make build-image</code> - Build the container image</li></ul><h3 id=configuration---pydantic>Configuration - <code>pydantic</code><a hidden class=anchor aria-hidden=true href=#configuration---pydantic>#</a></h3><p><code>pydantic</code> provides type validation and settings management. I use it for configurations to ensure type safety / validation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> pydantic_settings <span style=color:#f92672>import</span> BaseSettings, SettingsConfigDict
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Settings</span>(BaseSettings):
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    database_url: str <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;app.db&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    api_host: str <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;0.0.0.0&#34;</span>
</span></span><span style=display:flex><span>    api_port: int <span style=color:#f92672>=</span> <span style=color:#ae81ff>8000</span>
</span></span><span style=display:flex><span>    api_debug: bool <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    model_config <span style=color:#f92672>=</span> SettingsConfigDict(
</span></span><span style=display:flex><span>        env_file<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;.env&#34;</span>,
</span></span><span style=display:flex><span>        env_file_encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;utf-8&#34;</span>,
</span></span><span style=display:flex><span>        case_sensitive<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Usage</span>
</span></span><span style=display:flex><span>settings <span style=color:#f92672>=</span> Settings()
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;API will run on </span><span style=color:#e6db74>{</span>settings<span style=color:#f92672>.</span>api_host<span style=color:#e6db74>}</span><span style=color:#e6db74>:</span><span style=color:#e6db74>{</span>settings<span style=color:#f92672>.</span>api_port<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><p>The <a href=https://docs.pydantic.dev/latest/concepts/pydantic_settings/#settings-management>pydantic settings documentation</a> has excellent examples for more complex configurations.</p><h3 id=containerization---podman>Containerization - <code>podman</code><a hidden class=anchor aria-hidden=true href=#containerization---podman>#</a></h3><p>I use <code>podman</code> for containerization since there are no licensing restrictions to be concerned about, unlike <code>docker</code>. For Mac development, the <a href=https://github.com/apple/container>apple/container project</a> might be worth considering.</p><h3 id=continuous-integration---github-actions>Continuous Integration - GitHub Actions<a hidden class=anchor aria-hidden=true href=#continuous-integration---github-actions>#</a></h3><p>GitHub Actions integrates well into a GitHub repo and starters are widely available for Python projects. Unless your company has an alternate CI solution, GitHub Actions should be the starting-point.</p><p>It can also be run locally use the awesome OSS <a href=https://github.com/nektos/act>https://github.com/nektos/act</a> project.</p><h3 id=ide-cursor-or-vs-code>IDE (Cursor or VS Code)<a hidden class=anchor aria-hidden=true href=#ide-cursor-or-vs-code>#</a></h3><p>Cursor is a great IDE because of its familiar VS Code-like interface and AI integration. Its website puts it this way:</p><blockquote><p>Built to make you extraordinarily productive, Cursor is the best way to code with AI.</p><ul><li>cursor.com</li></ul></blockquote><h3 id=linting--formatting---ruff>Linting & Formatting - <code>ruff</code><a hidden class=anchor aria-hidden=true href=#linting--formatting---ruff>#</a></h3><p><code>ruff</code> is a super fast Python linter and formatter that can used in place of other tools like <code>black</code> for formatting and <code>isort</code> for import sorting</p><p>Example usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Format code</span>
</span></span><span style=display:flex><span>uvx ruff format src/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Lint code</span>
</span></span><span style=display:flex><span>uvx ruff check src/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Fix auto-fixable issues</span>
</span></span><span style=display:flex><span>uvx ruff check --fix src/
</span></span></code></pre></div><h3 id=logging---logging>Logging - <code>logging</code><a hidden class=anchor aria-hidden=true href=#logging---logging>#</a></h3><p>Although libraries like <code>loguru</code> are easier to use, have more bells-and-whistles, I feel that the standard library <code>logging</code> library has always been &lsquo;good enough&rsquo; for what I need.</p><p>In this case, we will create a custom Python logger in <code>json</code> format for easier downstream parsing, if required.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> datetime
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> logging
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> json
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Any
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>JsonFormatter</span>(logging<span style=color:#f92672>.</span>Formatter):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>format</span>(self, record) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>        log_record: dict[str, Any] <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;time&#34;</span>: datetime<span style=color:#f92672>.</span>datetime<span style=color:#f92672>.</span>now(datetime<span style=color:#f92672>.</span>timezone<span style=color:#f92672>.</span>utc)<span style=color:#f92672>.</span>isoformat(timespec<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;milliseconds&#39;</span>),
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;level&#34;</span>: record<span style=color:#f92672>.</span>levelname,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;msg&#34;</span>: record<span style=color:#f92672>.</span>getMessage(),
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;logger&#34;</span>: record<span style=color:#f92672>.</span>name,
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> json<span style=color:#f92672>.</span>dumps(log_record)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_logger</span>(
</span></span><span style=display:flex><span>    logger_name: str <span style=color:#f92672>=</span> __name__,
</span></span><span style=display:flex><span>    logger_level: int <span style=color:#f92672>=</span> logging<span style=color:#f92672>.</span>INFO,
</span></span><span style=display:flex><span>    logging_formatter: JsonFormatter <span style=color:#f92672>=</span> JsonFormatter,
</span></span><span style=display:flex><span>) <span style=color:#f92672>-&gt;</span> logging<span style=color:#f92672>.</span>Logger:
</span></span><span style=display:flex><span>    logger <span style=color:#f92672>=</span> logging<span style=color:#f92672>.</span>getLogger(logger_name)
</span></span><span style=display:flex><span>    logger<span style=color:#f92672>.</span>setLevel(logger_level)
</span></span><span style=display:flex><span>    handler <span style=color:#f92672>=</span> logging<span style=color:#f92672>.</span>StreamHandler()
</span></span><span style=display:flex><span>    handler<span style=color:#f92672>.</span>setFormatter(logging_formatter())
</span></span><span style=display:flex><span>    logger<span style=color:#f92672>.</span>addHandler(handler)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> logger
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>logger <span style=color:#f92672>=</span> get_logger()
</span></span><span style=display:flex><span>logger<span style=color:#f92672>.</span>info(<span style=color:#e6db74>&#34;This is an info message&#34;</span>)
</span></span><span style=display:flex><span>{<span style=color:#e6db74>&#34;time&#34;</span>: <span style=color:#e6db74>&#34;2025-10-01T04:30:41.691+00:00&#34;</span>, <span style=color:#e6db74>&#34;level&#34;</span>: <span style=color:#e6db74>&#34;INFO&#34;</span>, <span style=color:#e6db74>&#34;msg&#34;</span>: <span style=color:#e6db74>&#34;This is an info message&#34;</span>, <span style=color:#e6db74>&#34;logger&#34;</span>: <span style=color:#e6db74>&#34;__main__&#34;</span>}
</span></span></code></pre></div><h3 id=load-testing---locust>Load Testing - <code>locust</code><a hidden class=anchor aria-hidden=true href=#load-testing---locust>#</a></h3><p><a href=https://github.com/locustio/locust>locustio/locust</a> is an excellent project for load testing with a built-in web UI. It shines when load testing APIs - the primary place I&rsquo;ve used it, but it can be easily extensible to non-API use cases.</p><h3 id=pre-commit---prek>Pre-commit - <code>prek</code><a hidden class=anchor aria-hidden=true href=#pre-commit---prek>#</a></h3><p>The <code>pre-commit</code> Python library has long been king in this area for, as the name suggests, ensuring certain conditions are met prior to a git commit succeeding. <a href=https://github.com/j178/prek>The <code>prek</code> project</a> promises to be:</p><blockquote><p>🚀 A single binary with no dependencies, does not require Python or any other runtime.
⚡ About 10x faster than pre-commit and uses only half the disk space.
🔄 Fully compatible with the original pre-commit configurations and hooks.</p></blockquote><p>As the name suggests, it is a git hook that is triggered prior to commits. It can be used to ensure that JSON, YAML files are formatted properly, check to ensure files end with a newline, check for merge conflicts, and more.</p><p>Here&rsquo;s a sample <code>.pre-commit-config.yaml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>repos</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://github.com/pre-commit/pre-commit-hooks</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rev</span>: <span style=color:#ae81ff>v4.4.0</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>id</span>: <span style=color:#ae81ff>trailing-whitespace</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>id</span>: <span style=color:#ae81ff>end-of-file-fixer</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>id</span>: <span style=color:#ae81ff>check-yaml</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>id</span>: <span style=color:#ae81ff>check-added-large-files</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>id</span>: <span style=color:#ae81ff>check-merge-conflict</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://github.com/astral-sh/ruff-pre-commit</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rev</span>: <span style=color:#ae81ff>v0.1.6</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>id</span>: <span style=color:#ae81ff>ruff</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>args</span>: [--<span style=color:#ae81ff>fix, --exit-non-zero-on-fix]</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>id</span>: <span style=color:#ae81ff>ruff-format</span>
</span></span></code></pre></div><p>Install and setup:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Install prek</span>
</span></span><span style=display:flex><span>curl -L https://github.com/j178/prek/releases/latest/download/prek_linux_amd64.tar.gz | tar -xz
</span></span><span style=display:flex><span>sudo mv prek /usr/local/bin/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Install the hooks defined in the .pre-commit-config.yaml</span>
</span></span><span style=display:flex><span>prek install
</span></span></code></pre></div><h3 id=python-project-and-environment-management---uv>Python project and environment management - `uv```<a hidden class=anchor aria-hidden=true href=#python-project-and-environment-management---uv>#</a></h3><p><code>uv</code> makes managing dependencies easier and has other project-bootstrapping capabilities. Written in Rust, it&rsquo;s project dependency resolution, as an alternative to <code>pip install</code>. is significantly faster.</p><p>Here&rsquo;s some common (AI-generated) examples:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Initialize a new project</span>
</span></span><span style=display:flex><span>uv init my-project
</span></span><span style=display:flex><span>cd my-project
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add dependencies</span>
</span></span><span style=display:flex><span>uv add fastapi uvicorn
</span></span><span style=display:flex><span>uv add --dev pytest ruff
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Create and activate virtual environment</span>
</span></span><span style=display:flex><span>uv venv
</span></span><span style=display:flex><span>source .venv/bin/activate  <span style=color:#75715e># On Unix/macOS</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Install dependencies</span>
</span></span><span style=display:flex><span>uv sync
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Run commands in the virtual environment</span>
</span></span><span style=display:flex><span>uv run python main.py
</span></span><span style=display:flex><span>uv run pytest
</span></span><span style=display:flex><span>uv run ruff check .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Run tools without installing globally</span>
</span></span><span style=display:flex><span>uvx ruff format .
</span></span><span style=display:flex><span>uvx ty check src/
</span></span></code></pre></div><h3 id=scheduling---cron>Scheduling - <code>cron</code><a hidden class=anchor aria-hidden=true href=#scheduling---cron>#</a></h3><p><code>cron</code> is the ultimate &lsquo;keep it simple&rsquo; scheduler and is widely available. When something more sophisticated is needed, Airflow may be the way to go, especially for data-centric jobs. But if &lsquo;keep it simple&rsquo; is good enough, here&rsquo;s a crontab template file that I referenced for years.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># .---------------- minute (0 - 59)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># |  .------------- hour (0 - 23)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># |  |  .---------- day of month (1 - 31)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span>
</span></span><span style=display:flex><span><span style=color:#75715e># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7)  OR sun,mon,tue,wed,thu,fri,sat</span>
</span></span><span style=display:flex><span><span style=color:#75715e># |  |  |  |  |</span>
</span></span><span style=display:flex><span><span style=color:#75715e># *  *  *  *  *  command to be executed</span>
</span></span><span style=display:flex><span><span style=color:#75715e># *  *  *  *  *  command --arg1 --arg2 file1 file2 2&gt;&amp;1</span>
</span></span></code></pre></div><h3 id=testing---pytest>Testing - <code>pytest</code><a hidden class=anchor aria-hidden=true href=#testing---pytest>#</a></h3><p><code>pytest</code> shouldn&rsquo;t need much of an introduction but in my opinion it is both easier to read and more customizable than the built-in testing library.</p><p>Here&rsquo;s a simple (AI-Generated) example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># tests/test_user.py</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> pytest
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> src.models <span style=color:#f92672>import</span> User
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TestUser</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>test_user_creation</span>(self):
</span></span><span style=display:flex><span>        user <span style=color:#f92672>=</span> User(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;John Doe&#34;</span>, email<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;john@example.com&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>assert</span> user<span style=color:#f92672>.</span>name <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;John Doe&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>assert</span> user<span style=color:#f92672>.</span>email <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;john@example.com&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>test_user_email_validation</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> pytest<span style=color:#f92672>.</span>raises(<span style=color:#a6e22e>ValueError</span>):
</span></span><span style=display:flex><span>            User(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;John Doe&#34;</span>, email<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;invalid-email&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@pytest.fixture</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>sample_user</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> User(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Jane Doe&#34;</span>, email<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;jane@example.com&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>test_user_with_fixture</span>(self, sample_user):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>assert</span> sample_user<span style=color:#f92672>.</span>name <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Jane Doe&#34;</span>
</span></span></code></pre></div><h3 id=type-checking---ty>Type Checking - <code>ty</code><a hidden class=anchor aria-hidden=true href=#type-checking---ty>#</a></h3><p><code>ty</code> is a newer project that promises to be faster than alternatives such as <code>mypy</code> and can be run easily when paired with <code>uv</code>.</p><p>Basic usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>uvx ty check src/
</span></span></code></pre></div><h2 id=takeaways>Takeaways<a hidden class=anchor aria-hidden=true href=#takeaways>#</a></h2><p>While I&rsquo;m not an expert in these tools, I have used most extensively, with the exception of new entries such as <code>ty</code> and the supposed backwards-compatible version of <code>pre-commit</code>, <code>prek</code></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://be-rock.github.io/blog/tags/python/>Python</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://be-rock.github.io/blog/>Brock B's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>