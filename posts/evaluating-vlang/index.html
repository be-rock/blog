<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Evaluating V (Language) | Brock B's Blog</title><meta name=keywords content="v language,languages"><meta name=description content="Summary

I enjoy learning new languages, and decided it would be fun to do some learning the &lsquo;old-school&rsquo; way, meaning no AI-assisted coding, trial-and-error, and using the docs. Note - LLMs will be used merely as a search-engine equivalent to aid with solutions and resolve issues, but not to build a solution.
I have worked with numerous languages in the past, but 2 that have been on my radar are go and V. This post will be about V but I hope to do something similar for go.

V promises to be stable (despite not yet having reached 1.0 release), easy to learn (&ldquo;can be learned over the course of a weekend&rdquo;), fast, and is statically typed."><meta name=author content><link rel=canonical href=https://be-rock.github.io/blog/posts/evaluating-vlang/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.2211ca3164be7830024f6aad2b3a2e520843a64f8f048445c3401c1249aa051d.css integrity="sha256-IhHKMWS+eDACT2qtKzouUghDpk+PBIRFw0AcEkmqBR0=" rel="preload stylesheet" as=style><link rel=icon href=https://be-rock.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://be-rock.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://be-rock.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://be-rock.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://be-rock.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://be-rock.github.io/blog/posts/evaluating-vlang/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://be-rock.github.io/blog/posts/evaluating-vlang/"><meta property="og:site_name" content="Brock B's Blog"><meta property="og:title" content="Evaluating V (Language)"><meta property="og:description" content="Summary I enjoy learning new languages, and decided it would be fun to do some learning the ‘old-school’ way, meaning no AI-assisted coding, trial-and-error, and using the docs. Note - LLMs will be used merely as a search-engine equivalent to aid with solutions and resolve issues, but not to build a solution. I have worked with numerous languages in the past, but 2 that have been on my radar are go and V. This post will be about V but I hope to do something similar for go. V promises to be stable (despite not yet having reached 1.0 release), easy to learn (“can be learned over the course of a weekend”), fast, and is statically typed."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-08-25T19:39:16-05:00"><meta property="article:modified_time" content="2025-08-25T19:39:16-05:00"><meta property="article:tag" content="V Language"><meta property="article:tag" content="Languages"><meta name=twitter:card content="summary"><meta name=twitter:title content="Evaluating V (Language)"><meta name=twitter:description content="Summary

I enjoy learning new languages, and decided it would be fun to do some learning the &lsquo;old-school&rsquo; way, meaning no AI-assisted coding, trial-and-error, and using the docs. Note - LLMs will be used merely as a search-engine equivalent to aid with solutions and resolve issues, but not to build a solution.
I have worked with numerous languages in the past, but 2 that have been on my radar are go and V. This post will be about V but I hope to do something similar for go.

V promises to be stable (despite not yet having reached 1.0 release), easy to learn (&ldquo;can be learned over the course of a weekend&rdquo;), fast, and is statically typed."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://be-rock.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Evaluating V (Language)","item":"https://be-rock.github.io/blog/posts/evaluating-vlang/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Evaluating V (Language)","name":"Evaluating V (Language)","description":"Summary I enjoy learning new languages, and decided it would be fun to do some learning the \u0026lsquo;old-school\u0026rsquo; way, meaning no AI-assisted coding, trial-and-error, and using the docs. Note - LLMs will be used merely as a search-engine equivalent to aid with solutions and resolve issues, but not to build a solution. I have worked with numerous languages in the past, but 2 that have been on my radar are go and V. This post will be about V but I hope to do something similar for go. V promises to be stable (despite not yet having reached 1.0 release), easy to learn (\u0026ldquo;can be learned over the course of a weekend\u0026rdquo;), fast, and is statically typed.\n","keywords":["v language","languages"],"articleBody":"Summary I enjoy learning new languages, and decided it would be fun to do some learning the ‘old-school’ way, meaning no AI-assisted coding, trial-and-error, and using the docs. Note - LLMs will be used merely as a search-engine equivalent to aid with solutions and resolve issues, but not to build a solution. I have worked with numerous languages in the past, but 2 that have been on my radar are go and V. This post will be about V but I hope to do something similar for go. V promises to be stable (despite not yet having reached 1.0 release), easy to learn (“can be learned over the course of a weekend”), fast, and is statically typed.\nLearning V Getting started Installation Installation is pretty straight-forward, to clone, build from source, and symlink the executable just took a few seconds:\ncd ~/.local/lib time git clone --depth=1 https://github.com/vlang/v cd v time make ... git clone --depth=1 https://github.com/vlang/v 0.60s user 0.77s system 18% cpu 7.314 total ... V has been successfully built V 0.4.11 603cd90 make 6.82s user 0.98s system 61% cpu 12.739 total sudo ./v symlink Creating a project Creating things is one of the best ways to learn. I’ll go with the idea of a coin flipper app. It is a simple concept and can be used in a variety of ways to explore the language. I have previously done this with Python as a basis of advancing knowledge of TDD, and several Architectural patterns. A coin flipper is one of the suggestions made in this repo:\nCoin Flip Simulation - Write some code that simulates flipping a single coin however many times the user decides. The code should record the outcomes and count the number of tails and heads. Source: https://github.com/karan/Projects\nThe beauty of a simple concept like this is that it can be the basis for so many things such as adding a REST API, a front-end, a CLI, database interactions, …\nStarting the project There are numerous types of project templates bundled with the v CLI to get started with. The default is bin. v new --help shows 3 built-in:\n--bin Use the template for an executable application [default]. --lib Use the template for a library project. --web Use the template for a vweb project. I’ll start with the default (--lib) because it includes tests.\nv new --lib coin_flipper Input your project description: a coin flipper app Input your project version: (0.0.0) Input your project license: (MIT) Initialising ... Created library project `coin_flipper` tree . ├── coin_flipper │ ├── coin_flipper.v │ ├── tests │ │ └── square_test.v │ └── v.mod └── Makefile 3 directories, 4 files The contents of these files are:\n// coin_flipper/coin_flipper.v module coin_flipper // square calculates the second power of `x` pub fn square(x int) int { return x * x } // coin_flipper/tests/square_test.v import coin_flipper fn test_square() { assert coin_flipper.square(2) == 4 } // v.mod Module { name: 'coin_flipper' description: 'a coin flipper app' version: '0.0.0' license: 'MIT' dependencies: [] } To run the project:\nv run coin_flipper coin_flipper/coin_flipper.v:1:1: error: project must include a `main` module or be a shared library (compile with `v -shared`) Strangely, it does not run. Adding a main.v file seems to resolve this:\n// coin_flipper/main.v import coin_flipper fn main() { println(coin_flipper.square(3)) } v run coin_flipper 9 Ok, we have a successful app that works, although it does not yet flip a coin, it performs some basic useful tasks that we can build upon.\nLearning the language I have spent some time browsing through the docs and testing in the bundled REPL via v repl (or just v, which also defaults to the repl) but usually find it best just to dig in.\nThe first thing I’d like to do is build the coin flipping logic into our tests in a TDD sort of manner.\nIn Python, I would probably start with something like:\n# tests/test_app.py def test_app(): import random def coin_flipper() -\u003e str: return random.choice(['heads', 'tails']) assert coin_flipper() in ['heads', 'tails'] And then run the tests. Upon success, we would move the coin_flipper() to a new module and then import the module into the test_app.py like:\n# tests/test_app.py import coin_flipper def test_app(): assert coin_flipper() in ['heads', 'tails'] Eventually the coin_flipper() function could later be refactored into a CoinFlipper class with a flip_coin() method if needed.\nTo do the same thing in v, this became:\n// tests/coin_flipper_test.v fn flip_coin() !string { return rand.element(['heads', 'tails'])! } fn test_flip_coin() { result := flip_coin()! assert result in ['heads', 'tails'] } Running the tests with v -stats test tests/ succeeded. Through trial and error, I learned about the ! behavior in V and that simply returning type string from the function was not acceptable because rand.element() actually returns !string which, I understand to mean that it can return null or string.\nThe rand module docs say that rand.element’s signature is: fn element[T](array []T) !T. I interpret this to mean that element takes an array of any type T and returns type !T which means it can return type T or an error/none.\nSo our fn flip_coin() returns !string to accomodate this. Another way to address this, without the ! symbol would be to add the or {'none'}:\nfn flip_coin() string { return rand.element(['heads', 'tails']) or {'none'} } fn test_flip_coin() { result := flip_coin() assert result in ['heads', 'tails'] } Once these tests succeed, we can further refactor the code such that the flip_coin function is moved to coin_flipper/coin_flipper.v and then imported to the tests/coin_flipper_test.v such as:\n// coin_flipper/coin_flipper.v module coin_flipper import rand pub fn flip_coin() string { return rand.element(['heads', 'tails']) or {'none'} } // tests/coin_flipper_test.v import coin_flipper fn test_flip_coin() { result := coin_flipper.flip_coin() assert result in ['heads', 'tails'] } And then main.v simply:\nimport coin_flipper fn main() { println(coin_flipper.flip_coin()) } Running and Compiling the project To run the project, you can v run .. To run and compile, change to v crun .. crun. In my case, the compiled library was coin-flipper-v.\nHere’s a quick example of runtime differences between v run in a shell for loop and an execution of the built binary which shows that the binary is, unsurprisingly, considerably faster.\n# ./coin-flipper-v /usr/bin/time -p zsh -c 'for i in {1..1000}; do ./coin-flipper-v \u003e /dev/null ; done' real 3.09 user 0.01 sys 0.13 # v run /usr/bin/time -p zsh -c 'for i in {1..1000}; do v run . \u003e /dev/null; done' real 427.76 user 0.23 sys 0.26 Expanding the app Once I get a chance, I would like to enhance this app in a few ways such as:\nAdd a web component such as a REST API with veb Provide flexiblity to the app user to give a dynamic number of inputs Write the coin flip results to a SQL database https://modules.vlang.io/db.sqlite.ht This is just a toy app and each of the above components can be expanded upon.\nWrapping up This was a super quick intro to V. It was a language that I had wanted to dive into and have some surface-level knowledge of. I really enjoyed navigating through the docs, reviewing the examples, prototyping in the REPL.\nI’ve gotten a better sense of the basic data structures, the project structure and packaging, error handling, and more.\nI felt that the language, thus far, has been intuitive. If a syntax or paradigm was new or unfamiliar, it made sense in a short amount of time with review.\nReference The project code can be found in https://github.com/be-rock/coin-flipper-v\n","wordCount":"1236","inLanguage":"en","datePublished":"2025-08-25T19:39:16-05:00","dateModified":"2025-08-25T19:39:16-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://be-rock.github.io/blog/posts/evaluating-vlang/"},"publisher":{"@type":"Organization","name":"Brock B's Blog","logo":{"@type":"ImageObject","url":"https://be-rock.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://be-rock.github.io/blog/ accesskey=h title="Brock B's Blog (Alt + H)">Brock B's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://be-rock.github.io/blog/ title=Home><span>Home</span></a></li><li><a href=https://be-rock.github.io/blog/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://be-rock.github.io/blog/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://be-rock.github.io/blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Evaluating V (Language)</h1><div class=post-meta><span title='2025-08-25 19:39:16 -0500 -0500'>August 25, 2025</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1236 words</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#summary aria-label=Summary>Summary</a></li><li><a href=#learning-v aria-label="Learning V">Learning V</a><ul><li><a href=#getting-started aria-label="Getting started">Getting started</a><ul><li><a href=#installation aria-label=Installation>Installation</a></li></ul></li><li><a href=#creating-a-project aria-label="Creating a project">Creating a project</a></li><li><a href=#starting-the-project aria-label="Starting the project">Starting the project</a></li><li><a href=#learning-the-language aria-label="Learning the language">Learning the language</a></li><li><a href=#running-and-compiling-the-project aria-label="Running and Compiling the project">Running and Compiling the project</a></li><li><a href=#expanding-the-app aria-label="Expanding the app">Expanding the app</a></li></ul></li><li><a href=#wrapping-up aria-label="Wrapping up">Wrapping up</a></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><ul><li>I enjoy learning new languages, and decided it would be fun to do some learning the &lsquo;old-school&rsquo; way, meaning no AI-assisted coding, trial-and-error, and using the docs. Note - LLMs will be used merely as a search-engine equivalent to aid with solutions and resolve issues, but <em>not</em> to build a solution.</li><li>I have worked with numerous languages in the past, but 2 that have been on my radar are <a href=https://go.dev/>go</a> and <a href=https://vlang.io/>V</a>. This post will be about <code>V</code> but I hope to do something similar for <code>go</code>.</li></ul><p><code>V</code> promises to be stable (despite not yet having reached 1.0 release), easy to learn (&ldquo;can be learned over the course of a weekend&rdquo;), fast, and is statically typed.</p><h2 id=learning-v>Learning V<a hidden class=anchor aria-hidden=true href=#learning-v>#</a></h2><h3 id=getting-started>Getting started<a hidden class=anchor aria-hidden=true href=#getting-started>#</a></h3><h4 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h4><p>Installation is pretty straight-forward, to clone, build from source, and symlink the executable just took a few seconds:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cd ~/.local/lib
</span></span><span style=display:flex><span>time git clone --depth<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> https://github.com/vlang/v
</span></span><span style=display:flex><span>cd v
</span></span><span style=display:flex><span>time make
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>git clone --depth<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> https://github.com/vlang/v  0.60s user 0.77s system 18% cpu 7.314 total
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>V has been successfully built
</span></span><span style=display:flex><span>V 0.4.11 603cd90
</span></span><span style=display:flex><span>make  6.82s user 0.98s system 61% cpu 12.739 total
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo ./v symlink
</span></span></code></pre></div><h3 id=creating-a-project>Creating a project<a hidden class=anchor aria-hidden=true href=#creating-a-project>#</a></h3><p>Creating things is one of the best ways to learn. I&rsquo;ll go with the idea of a coin flipper app. It is a simple concept and can be used in a variety of ways to explore the language. I have previously done this with Python as a basis of advancing knowledge of TDD, and several Architectural patterns. A coin flipper is one of the suggestions made in this repo:</p><blockquote><p>Coin Flip Simulation - Write some code that simulates flipping a single coin however many times the user decides. The code should record the outcomes and count the number of tails and heads.
Source: <a href=https://github.com/karan/Projects>https://github.com/karan/Projects</a></p></blockquote><p>The beauty of a simple concept like this is that it can be the basis for so many things such as adding a REST API, a front-end, a CLI, database interactions, &mldr;</p><h3 id=starting-the-project>Starting the project<a hidden class=anchor aria-hidden=true href=#starting-the-project>#</a></h3><p>There are numerous types of project templates bundled with the <code>v</code> CLI to get started with. The default is <code>bin</code>. <code>v new --help</code> shows 3 built-in:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  --bin               Use the template <span style=color:#66d9ef>for</span> an executable application <span style=color:#f92672>[</span>default<span style=color:#f92672>]</span>.
</span></span><span style=display:flex><span>  --lib               Use the template <span style=color:#66d9ef>for</span> a library project.
</span></span><span style=display:flex><span>  --web               Use the template <span style=color:#66d9ef>for</span> a vweb project.
</span></span></code></pre></div><p>I&rsquo;ll start with the default (<code>--lib</code>) because it includes tests.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>v new --lib coin_flipper
</span></span><span style=display:flex><span>Input your project description: a coin flipper app
</span></span><span style=display:flex><span>Input your project version: <span style=color:#f92672>(</span>0.0.0<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Input your project license: <span style=color:#f92672>(</span>MIT<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Initialising ...
</span></span><span style=display:flex><span>Created library project <span style=color:#e6db74>`</span>coin_flipper<span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>tree
</span></span><span style=display:flex><span>.
</span></span><span style=display:flex><span>├── coin_flipper
</span></span><span style=display:flex><span>│   ├── coin_flipper.v
</span></span><span style=display:flex><span>│   ├── tests
</span></span><span style=display:flex><span>│   │   └── square_test.v
</span></span><span style=display:flex><span>│   └── v.mod
</span></span><span style=display:flex><span>└── Makefile
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span> directories, <span style=color:#ae81ff>4</span> files
</span></span></code></pre></div><p>The contents of these files are:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-v data-lang=v><span style=display:flex><span><span style=color:#75715e>// coin_flipper/coin_flipper.v
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>module</span> coin_flipper
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>// </span><span style=font-style:italic>square</span><span style=color:#e6db74> calculates the second power of `x`
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>square</span>(x <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>*</span> x
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-v data-lang=v><span style=display:flex><span><span style=color:#75715e>// coin_flipper/tests/square_test.v
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>import</span> coin_flipper
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>test_square</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>assert</span> coin_flipper.<span style=color:#a6e22e>square</span>(<span style=color:#ae81ff>2</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mod data-lang=mod><span style=display:flex><span><span style=color:#75715e>// v.mod
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Module {
</span></span><span style=display:flex><span>	name: <span style=color:#e6db74>&#39;coin_flipper&#39;</span>
</span></span><span style=display:flex><span>	description: <span style=color:#e6db74>&#39;a coin flipper app&#39;</span>
</span></span><span style=display:flex><span>	version: <span style=color:#e6db74>&#39;0.0.0&#39;</span>
</span></span><span style=display:flex><span>	license: <span style=color:#e6db74>&#39;MIT&#39;</span>
</span></span><span style=display:flex><span>	dependencies: []
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>To run the project:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>v run coin_flipper
</span></span><span style=display:flex><span>coin_flipper/coin_flipper.v:1:1: error: project must include a <span style=color:#e6db74>`</span>main<span style=color:#e6db74>`</span> module or be a shared library <span style=color:#f92672>(</span>compile with <span style=color:#e6db74>`</span>v -shared<span style=color:#e6db74>`</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>Strangely, it does not run. Adding a <code>main.v</code> file seems to resolve this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-v data-lang=v><span style=display:flex><span><span style=color:#75715e>// coin_flipper/main.v
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>import</span> coin_flipper
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    println(coin_flipper.<span style=color:#a6e22e>square</span>(<span style=color:#ae81ff>3</span>))
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>v run coin_flipper
</span></span><span style=display:flex><span><span style=color:#ae81ff>9</span>
</span></span></code></pre></div><p>Ok, we have a successful app that works, although it does not yet flip a coin, it performs some basic useful tasks that we can build upon.</p><h3 id=learning-the-language>Learning the language<a hidden class=anchor aria-hidden=true href=#learning-the-language>#</a></h3><p>I have spent some time browsing through the docs and testing in the bundled REPL via <code>v repl</code> (or just <code>v</code>, which also defaults to the repl) but usually find it best just to dig in.</p><p>The first thing I&rsquo;d like to do is build the coin flipping logic into our tests in a TDD sort of manner.</p><p>In Python, I would probably start with something like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># tests/test_app.py</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>test_app</span>():
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> random
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>coin_flipper</span>() <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> random<span style=color:#f92672>.</span>choice([<span style=color:#e6db74>&#39;heads&#39;</span>, <span style=color:#e6db74>&#39;tails&#39;</span>])
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>assert</span> coin_flipper() <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#39;heads&#39;</span>, <span style=color:#e6db74>&#39;tails&#39;</span>]
</span></span></code></pre></div><p>And then run the tests. Upon success, we would move the <code>coin_flipper()</code> to a new module and then import the module into the <code>test_app.py</code> like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># tests/test_app.py</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> coin_flipper
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>test_app</span>():
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>assert</span> coin_flipper() <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#39;heads&#39;</span>, <span style=color:#e6db74>&#39;tails&#39;</span>]
</span></span></code></pre></div><p>Eventually the <code>coin_flipper()</code> function could later be refactored into a <code>CoinFlipper</code> class with a <code>flip_coin()</code> method if needed.</p><p>To do the same thing in <code>v</code>, this became:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-v data-lang=v><span style=display:flex><span><span style=color:#75715e>// tests/coin_flipper_test.v
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>flip_coin</span>() <span style=color:#66d9ef>!</span>string {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> rand.<span style=color:#a6e22e>element</span>([<span style=color:#e6db74>&#39;heads&#39;</span>, <span style=color:#e6db74>&#39;tails&#39;</span>])<span style=color:#66d9ef>!</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>test_flip_coin</span>() {
</span></span><span style=display:flex><span>	result <span style=color:#f92672>:=</span> <span style=color:#a6e22e>flip_coin</span>()<span style=color:#66d9ef>!</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>assert</span> result <span style=color:#66d9ef>in</span> [<span style=color:#e6db74>&#39;heads&#39;</span>, <span style=color:#e6db74>&#39;tails&#39;</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Running the tests with <code>v -stats test tests/</code> succeeded. Through trial and error, I learned about the <code>!</code> behavior in <code>V</code> and that simply returning type <code>string</code> from the function was not acceptable because <code>rand.element()</code> actually returns <code>!string</code> which, I understand to mean that it can return null <em>or</em> string.</p><p>The <a href=https://modules.vlang.io/rand.html#element><code>rand</code> module docs</a> say that <code>rand.element</code>&rsquo;s signature is: <code>fn element[T](array []T) !T</code>. I interpret this to mean that <code>element</code> takes an array of any type <code>T</code> and returns type <code>!T</code> which means it can return type <code>T</code> or an error/none.</p><p>So our <code>fn flip_coin()</code> returns <code>!string</code> to accomodate this. Another way to address this, without the <code>!</code> symbol would be to add the <code>or {'none'}</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-v data-lang=v><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>flip_coin</span>() string {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> rand.<span style=color:#a6e22e>element</span>([<span style=color:#e6db74>&#39;heads&#39;</span>, <span style=color:#e6db74>&#39;tails&#39;</span>]) <span style=color:#66d9ef>or</span> {<span style=color:#e6db74>&#39;none&#39;</span>}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>test_flip_coin</span>() {
</span></span><span style=display:flex><span>	result <span style=color:#f92672>:=</span> <span style=color:#a6e22e>flip_coin</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>assert</span> result <span style=color:#66d9ef>in</span> [<span style=color:#e6db74>&#39;heads&#39;</span>, <span style=color:#e6db74>&#39;tails&#39;</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Once these tests succeed, we can further refactor the code such that the <code>flip_coin</code> function is moved to <code>coin_flipper/coin_flipper.v</code> and then imported to the <code>tests/coin_flipper_test.v</code> such as:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-v data-lang=v><span style=display:flex><span><span style=color:#75715e>// coin_flipper/coin_flipper.v
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>module</span> coin_flipper
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> rand
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>flip_coin</span>() string {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> rand.<span style=color:#a6e22e>element</span>([<span style=color:#e6db74>&#39;heads&#39;</span>, <span style=color:#e6db74>&#39;tails&#39;</span>]) <span style=color:#66d9ef>or</span> {<span style=color:#e6db74>&#39;none&#39;</span>}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-v data-lang=v><span style=display:flex><span><span style=color:#75715e>// tests/coin_flipper_test.v
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>import</span> coin_flipper
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>test_flip_coin</span>() {
</span></span><span style=display:flex><span>	result <span style=color:#f92672>:=</span> coin_flipper.<span style=color:#a6e22e>flip_coin</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>assert</span> result <span style=color:#66d9ef>in</span> [<span style=color:#e6db74>&#39;heads&#39;</span>, <span style=color:#e6db74>&#39;tails&#39;</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>And then <code>main.v</code> simply:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-v data-lang=v><span style=display:flex><span><span style=color:#f92672>import</span> coin_flipper
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	println(coin_flipper.<span style=color:#a6e22e>flip_coin</span>())
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=running-and-compiling-the-project>Running and Compiling the project<a hidden class=anchor aria-hidden=true href=#running-and-compiling-the-project>#</a></h3><p>To run the project, you can <code>v run .</code>. To run <em>and</em> compile, change to <code>v crun .</code>. <code>crun</code>. In my case, the compiled library was <code>coin-flipper-v</code>.</p><p>Here&rsquo;s a quick example of runtime differences between <code>v run</code> in a shell <code>for</code> loop and an execution of the built binary which shows that the binary is, unsurprisingly, considerably faster.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># ./coin-flipper-v</span>
</span></span><span style=display:flex><span>/usr/bin/time -p zsh -c <span style=color:#e6db74>&#39;for i in {1..1000}; do ./coin-flipper-v &gt; /dev/null ; done&#39;</span>
</span></span><span style=display:flex><span>real 3.09
</span></span><span style=display:flex><span>user 0.01
</span></span><span style=display:flex><span>sys 0.13
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># v run</span>
</span></span><span style=display:flex><span>/usr/bin/time -p zsh -c <span style=color:#e6db74>&#39;for i in {1..1000}; do v run . &gt; /dev/null; done&#39;</span>
</span></span><span style=display:flex><span>real 427.76
</span></span><span style=display:flex><span>user 0.23
</span></span><span style=display:flex><span>sys 0.26
</span></span></code></pre></div><h3 id=expanding-the-app>Expanding the app<a hidden class=anchor aria-hidden=true href=#expanding-the-app>#</a></h3><p>Once I get a chance, I would like to enhance this app in a few ways such as:</p><ul><li>Add a web component such as a REST API with <a href=https://modules.vlang.io/veb.html>veb</a></li><li>Provide flexiblity to the app user to give a dynamic number of inputs</li><li>Write the coin flip results to a SQL database <a href=https://modules.vlang.io/db.sqlite.ht>https://modules.vlang.io/db.sqlite.ht</a></li></ul><p>This is just a toy app and each of the above components can be expanded upon.</p><h2 id=wrapping-up>Wrapping up<a hidden class=anchor aria-hidden=true href=#wrapping-up>#</a></h2><p>This was a super quick intro to <code>V</code>. It was a language that I had wanted to dive into and have some surface-level knowledge of. I really enjoyed navigating through the docs, reviewing the examples, prototyping in the REPL.</p><p>I&rsquo;ve gotten a better sense of the basic data structures, the project structure and packaging, error handling, and more.</p><p>I felt that the language, thus far, has been intuitive. If a syntax or paradigm was new or unfamiliar, it made sense in a short amount of time with review.</p><h2 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h2><p>The project code can be found in <a href=https://github.com/be-rock/coin-flipper-v>https://github.com/be-rock/coin-flipper-v</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://be-rock.github.io/blog/tags/v-language/>V Language</a></li><li><a href=https://be-rock.github.io/blog/tags/languages/>Languages</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://be-rock.github.io/blog/>Brock B's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>